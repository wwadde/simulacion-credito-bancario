{"openapi":"3.1.0","info":{"title":"Credito service","version":"1.0.0"},"servers":[{"url":"http://localhost:8082/credito","description":"Generated server url"}],"security":[{"bearerAuth":[]}],"paths":{"/api/credits":{"post":{"tags":["credit-controller"],"operationId":"createCredit","parameters":[{"name":"personId","in":"query","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateCreditDTO"}}},"required":true},"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"type":"string"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/api/credits/{creditId}/payments":{"post":{"tags":["credit-controller"],"operationId":"makePayment","parameters":[{"name":"creditId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"personId","in":"query","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaymentDTO"}}},"required":true},"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"type":"string"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/api/credits/{personId}":{"get":{"tags":["credit-controller"],"operationId":"getCredit","parameters":[{"name":"personId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"type":"string"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CreditDTO"}}}}}}},"/api/credits/{creditId}":{"delete":{"tags":["credit-controller"],"operationId":"deleteCredit","parameters":[{"name":"creditId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"personId","in":"query","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"type":"string"}}}},"200":{"description":"OK"}}}}},"components":{"schemas":{"CreateCreditDTO":{"type":"object","properties":{"loan":{"type":"integer"},"interestRate":{"type":"number","format":"float"},"agreedPayments":{"type":"integer","format":"int32"},"creditExpirationDate":{"type":"string","format":"date-time"}}},"PaymentDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"paymentDate":{"type":"string","format":"date-time"},"description":{"type":"string"},"value":{"type":"integer"}}},"AccountDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"paymentList":{"type":"array","items":{"$ref":"#/components/schemas/PaymentDTO"}},"balance":{"type":"integer"},"person":{"$ref":"#/components/schemas/PersonResponseDTO"}}},"CreditDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"loan":{"type":"integer"},"totalLoan":{"type":"integer"},"amountPaid":{"type":"integer"},"amountToPay":{"type":"integer"},"interestRate":{"type":"number","format":"float"},"agreedPayments":{"type":"integer","format":"int32"},"paymentsMade":{"type":"integer","format":"int32"},"creditGivenDate":{"type":"string","format":"date-time"},"creditExpirationDate":{"type":"string","format":"date-time"},"status":{"type":"string"},"account":{"$ref":"#/components/schemas/AccountDTO"}}},"PersonResponseDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"name":{"type":"string"},"surname":{"type":"string"},"phoneNumber":{"type":"string"},"email":{"type":"string"},"documentType":{"type":"string"},"document":{"type":"string"},"birthDate":{"type":"string","format":"date"},"status":{"type":"string"}}}},"securitySchemes":{"bearerAuth":{"type":"http","scheme":"bearer","bearerFormat":"JWT"}}}}